<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SENA · Guía: Decisión simple (if) en JavaScript</title>
    <meta name="description" content="Guía de apoyo para estudiantes SENA: decisión simple (if) en JavaScript. Objetivos, agenda, ejemplos, práctica, reto y mini-quiz." />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root{
            --bg:#0b0e14; --panel:#0f1420; --card:#151b2a; --text:#eef2ff; --muted:#a0aec0;
            --brand:#5b5cf6; --brand-2:#3bc9db;
            --ok:#10b981; --warn:#f59e0b; --err:#ef4444;
            --shadow:0 10px 28px rgba(0,0,0,.35); --radius:18px;
        }
        :root.light{
            --bg:#f7f8fb; --panel:#ffffff; --card:#ffffff; --text:#121827; --muted:#5b6b82;
            --brand:#5b5cf6; --brand-2:#0ea5e9; --shadow:0 10px 22px rgba(16,24,40,.12);
        }
        *,*::before,*::after{box-sizing:border-box}
        html,body{height:100%}
        body{
            margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
            background:
                    radial-gradient(1200px 800px at 10% -10%, rgba(124,92,255,.18), transparent),
                    radial-gradient(1000px 600px at 110% 20%, rgba(59,201,219,.18), transparent),
                    var(--bg);
            color:var(--text); line-height:1.6;
        }
        header{
            position:sticky; top:0; z-index:50; backdrop-filter: blur(8px);
            background: color-mix(in oklab, var(--bg) 60%, transparent);
            border-bottom: 1px solid color-mix(in oklab, var(--text) 15%, transparent);
        }
        .wrap{max-width:1180px; margin:0 auto; padding:16px 20px;}
        .topbar{display:flex; align-items:center; gap:16px; justify-content:space-between}
        .brand{display:flex; align-items:center; gap:12px; font-weight:800; letter-spacing:.2px}
        .brand svg{width:28px; height:28px; filter:drop-shadow(0 4px 10px rgba(124,92,255,.35))}
        nav a{color:var(--text); text-decoration:none; opacity:.85; margin:0 10px; font-weight:600}
        nav a:hover{opacity:1}
        .btn{
            appearance:none; border:0; border-radius:14px; padding:10px 14px; font-weight:700;
            color:#fff; background:linear-gradient(135deg, var(--brand), var(--brand-2));
            box-shadow: var(--shadow); cursor:pointer; transition: transform .12s ease, opacity .2s ease;
        }
        .btn.small{padding:8px 12px; border-radius:10px; font-weight:600}
        .btn.ghost{background:transparent; color:var(--text); border:1px solid color-mix(in oklab, var(--text) 20%, transparent)}
        .progress{position: fixed; top:0; left:0; height:3px; width:0%; background: linear-gradient(90deg, var(--brand), var(--brand-2)); z-index:60;}
        .hero{display:grid; grid-template-columns: 1.2fr .8fr; gap:24px; align-items:center; padding: 32px 20px 18px;}
        .hero h1{font-size: clamp(26px, 4vw, 44px); line-height:1.1; margin:0 0 8px}
        .hero p{color:var(--muted); margin:0 0 20px}
        .chip{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px;
            background: color-mix(in oklab, var(--panel) 70%, transparent); border:1px solid color-mix(in oklab, var(--text) 15%, transparent);
            color: var(--text); font-weight:700; font-size:12px; text-transform:uppercase; letter-spacing:.4px;}
        .illus{border-radius: var(--radius); background:
                radial-gradient(300px 180px at 20% 15%, rgba(124,92,255,.25), transparent),
                radial-gradient(200px 160px at 90% 25%, rgba(59,201,219,.25), transparent),
                linear-gradient(180deg, color-mix(in oklab, var(--panel) 70%, transparent), transparent);
            padding: 18px; box-shadow: var(--shadow);}
        .grid{display:grid; gap:18px; grid-template-columns: repeat(12, 1fr); padding: 12px 20px 32px;}
        .ecard{
            grid-column: span 12; border-radius: calc(var(--radius) + 2px);
            background: linear-gradient(180deg, color-mix(in oklab, var(--card) 85%, transparent), color-mix(in oklab, var(--panel) 60%, transparent));
            border:1px solid color-mix(in oklab, var(--text) 12%, transparent); box-shadow: var(--shadow);
            overflow: clip; position:relative; isolation:isolate; transform: translateY(6px); opacity:0;
            transition: transform .6s ease, opacity .6s ease;
        }
        .ecard.revealed{transform: translateY(0); opacity:1}
        .ecard .head{display:flex; gap:12px; align-items:center; padding:16px 18px; border-bottom:1px dashed color-mix(in oklab, var(--text) 12%, transparent);
            background: linear-gradient(90deg, color-mix(in oklab, var(--panel) 85%, transparent), transparent);}
        .icon{display:grid; place-items:center; width:42px; height:42px; border-radius:12px;
            background: linear-gradient(135deg, color-mix(in oklab, var(--brand) 35%, #000 65%), color-mix(in oklab, var(--brand-2) 30%, #000 70%));
            box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);}
        .icon svg{width:22px; height:22px; color:#fff}
        .step{display:inline-grid; place-items:center; width:28px; height:28px; border-radius:10px; font-weight:800; color:#fff;
            background: linear-gradient(135deg, var(--brand), var(--brand-2)); margin-right:4px}
        .title{font-weight:800; font-size:18px}
        .badge{margin-left:auto; font-size:12px; color:var(--muted); display:flex; align-items:center; gap:8px}
        .body{padding:16px 18px; display:grid; gap:12px}
        .body p{margin:0; color:var(--text)}
        .hint{font-size:14px; color:var(--muted)}
        .list{display:grid; gap:8px; padding-left:18px}
        .list li{margin-left:6px}
        .code{font-family:"JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; font-size: 13px; line-height:1.5;
            background: color-mix(in oklab, var(--bg) 80%, black 20%); border:1px solid color-mix(in oklab, var(--text) 12%, transparent);
            border-radius: 12px; padding:12px; position:relative; overflow:auto;}
        .copy{position:absolute; top:8px; right:8px}
        .tabs{display:flex; gap:8px; flex-wrap:wrap}
        .tabs button{background:transparent; border:1px solid color-mix(in oklab, var(--text) 18%, transparent); color:var(--text); padding:8px 10px; border-radius:9px; cursor:pointer; font-weight:600}
        .tabs button.active{background: linear-gradient(135deg, var(--brand), var(--brand-2)); color:#fff; border-color:transparent}
        .panel{display:none}
        .panel.active{display:block}
        .quiz q{display:block; font-weight:700}
        .quiz .qcard{border:1px solid color-mix(in oklab, var(--text) 12%, transparent); border-radius:12px; padding:12px; margin:8px 0; background: color-mix(in oklab, var(--panel) 85%, transparent);}
        .quiz .result{font-weight:800}
        footer{padding:28px 20px 60px; color:var(--muted); text-align:center}
        @media (min-width: 820px){ .ecard.span-6{grid-column: span 6} .ecard.span-4{grid-column: span 4} .ecard.span-8{grid-column: span 8} .ecard.span-12{grid-column: span 12}}
        @keyframes pulseGlow {0%{ box-shadow: 0 0 0 0 rgba(124,92,255,.35)} 100%{ box-shadow: 0 0 0 14px rgba(124,92,255,0)}}
        .pulse{animation: pulseGlow 1.8s ease infinite}
        .float{transform: translateY(0); animation: float 6s ease-in-out infinite}
        @keyframes float{0%,100%{ transform: translateY(0)} 50%{ transform: translateY(-6px)}}
        .mini-img{width:78px; height:78px; border-radius:12px; object-fit:cover; border:1px solid color-mix(in oklab, var(--text) 12%, transparent)}
        mark{background: color-mix(in oklab, var(--brand-2) 35%, transparent); color: var(--text); padding:2px 6px; border-radius:8px}
    </style>
</head>
<body>
<div class="progress" aria-hidden="true"></div>

<header>
    <div class="wrap topbar">
        <div class="brand">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" aria-hidden="true">
                <path d="M10 2v5l-4.5 7.5a5 5 0 0 0 4.3 7.5h4.4a5 5 0 0 0 4.3-7.5L14 7V2" stroke-width="1.6" />
                <path d="M8 11h8" stroke-width="1.6"/>
            </svg>
            <span>SENA · Guía: Decisión simple (if) en JavaScript</span>
        </div>
        <nav class="hide-mobile">
            <a href="#objetivos">Competencias & RDA</a>
            <a href="#momentos">Momentos</a>
            <a href="#ejemplos">Ejemplos</a>
            <a href="#practica">Práctica</a>
            <a href="#quiz">Mini-quiz</a>
            <a href="#recursos">Material & Errores</a>
        </nav>
        <div>
            <button class="btn small ghost" id="toggleTheme" aria-label="Alternar tema">🌓 Tema</button>
        </div>
    </div>
</header>

<main class="wrap">
    <!-- HERO -->
    <section class="hero" aria-labelledby="herotitle">
        <div>
            <span class="chip pulse">Guía estudiantil · SENA</span>
            <h1 id="herotitle">Estructuras de <em>decisión simple</em> en JavaScript</h1>
            <p>Explora objetivos SENA, momentos de la clase, ejemplos listos para copiar, práctica, un reto y un mini-quiz para comprobar tu comprensión.</p>
            <div class="actions">
                <a class="btn" href="#momentos">Ver la secuencia</a>
                <a class="btn ghost" href="#objetivos">Revisar criterios</a>
            </div>
        </div>
        <div class="illus float" aria-hidden="true">
            <svg viewBox="0 0 540 340" width="100%" height="auto">
                <defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0%" stop-color="#7c5cff" stop-opacity=".6"/><stop offset="100%" stop-color="#3bc9db" stop-opacity=".6"/></linearGradient></defs>
                <rect x="0" y="0" width="540" height="340" rx="18" fill="url(#g1)" opacity=".08"/>
                <g fill="none" stroke="#7c5cff" stroke-width="3" opacity=".9">
                    <rect x="40" y="40" width="180" height="110" rx="12"/>
                    <rect x="80" y="80" width="180" height="110" rx="12" stroke="#3bc9db"/>
                    <circle cx="420" cy="230" r="60" stroke="#3bc9db"/>
                    <path d="M390 230 h60" stroke="#7c5cff"/>
                    <path d="M330 230 q45 -60 90 0" stroke="#7c5cff"/>
                </g>
            </svg>
        </div>
    </section>

    <!-- COMPETENCIAS Y RDA (SENA) -->
    <section id="objetivos" class="grid" aria-labelledby="objtitle">
        <div class="ecard span-8">
            <div class="head">
                <div class="icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <circle cx="12" cy="12" r="9" stroke-width="1.6"></circle>
                        <circle cx="12" cy="12" r="4" stroke-width="1.6"></circle>
                        <path d="M12 3v3M21 12h-3M12 21v-3M3 12h3" stroke-width="1.6"/>
                    </svg>
                </div>
                <div class="title">Competencias & Resultados (SENA)</div>
                <div class="badge">Transparencia de criterios</div>
            </div>
            <div class="body">
                <ul class="list">
                    <li><strong>Nombre del Proyecto Formativo:</strong> CONSTRUCCIÓN DE SOFTWARE INTEGRADOR DE TECNOLOGÍAS ORIENTADAS A SERVICIOS</li>
                    <li><strong>Fase del Proyecto:</strong> Planeación</li>
                    <li><strong>Actividad de Proyecto Formativo:</strong> ESTRUCTURAR PROCESOS LÓGICOS PARA LA CONSTRUCCIÓN DE ALGORITMOS</li>
                    <li><strong>Competencia:</strong> Evaluar requisitos de la solución de software de acuerdo con metodologías de análisis y estándares</li>
                    <li><strong>Resultado de Aprendizaje (RDA):</strong> Desarrollar procesos lógicos a través de la implementación de algoritmos</li>
                </ul>
                <p class="hint">Este encuentro se enfoca en aplicar el <code>if</code> simple para tomar decisiones binarias dentro de algoritmos.</p>
            </div>
        </div>

        <div class="ecard span-4">
            <div class="head">
                <div class="icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="9" stroke-width="1.6"/></svg>
                </div>
                <div class="title">Agenda</div>
                <div class="badge">Pasos de la clase</div>
            </div>
            <div class="body">
                <ul class="list">
                    <li><span class="step">1</span> Apertura & diagnóstico</li>
                    <li><span class="step">2</span> Propósito & criterios</li>
                    <li><span class="step">3</span> Microexplicación + demo</li>
                    <li><span class="step">4</span> Práctica guiada</li>
                    <li><span class="step">5</span> Reto individual</li>
                    <li><span class="step">6</span> Mini-quiz</li>
                    <li><span class="step">7</span> Material & errores</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- MOMENTOS -->
    <section id="momentos" class="grid" aria-labelledby="momtitle">
        <!-- 1 Apertura -->
        <div class="ecard span-6">
            <div class="head">
                <div class="step" aria-hidden="true">1</div>
                <div class="title">Apertura & diagnóstico</div>
                <div class="badge">Activar saberes</div>
            </div>
            <div class="body">
                <div style="display:flex; gap:12px; align-items:center">
                    <!-- imagen pequeña -->
                    <img alt="Ilustración de decisión binaria" class="mini-img" src="data:image/svg+xml;utf8,<?xml version='1.0'?><svg xmlns='http://www.w3.org/2000/svg' width='128' height='128'><rect width='128' height='128' rx='16' fill='%235b5cf6'/><path d='M20 64h88' stroke='white' stroke-width='8'/><path d='M64 20v88' stroke='%233bc9db' stroke-width='8'/></svg>">
                    <p><strong>Pregunta guía:</strong> <mark>¿En qué situaciones un programa debe decidir “sí” o “no” con base en una condición?</mark></p>
                </div>
                <p class="hint">Comparte un ejemplo cotidiano (descuento, mayoría de edad, campo obligatorio) para diagnosticar tu punto de partida.</p>
            </div>
        </div>

        <!-- 2 Proposito -->
        <div class="ecard span-6">
            <div class="head">
                <div class="step" aria-hidden="true">2</div>
                <div class="title">Propósito & criterios</div>
                <div class="badge">Evidencias</div>
            </div>
            <div class="body">
                <p><strong>Propósito:</strong> usar <code>if</code> simple para tomar decisiones en un algoritmo, validando la entrada.</p>
                <p><strong>Evidencias de este ejercicio:</strong></p>
                <ul class="list">
                    <li><em>De producto:</em> un script breve que decide si hay envío gratis cuando <code>total >= 500</code>.</li>
                    <li><em>De desempeño:</em> explicación oral/escrita de la condición implementada.</li>
                    <li><em>De conocimiento:</em> resultados del mini-quiz.</li>
                </ul>
            </div>
        </div>

        <!-- 3 Microexplicación -->
        <div class="ecard span-6">
            <div class="head">
                <div class="step" aria-hidden="true">3</div>
                <div class="title">Microexplicación + demo</div>
                <div class="badge">Idea clave</div>
            </div>
            <div class="body">
                <p><strong>Decisión simple:</strong> un <code>if</code> ejecuta un bloque solo si la condición es <em>true</em>. Usamos operadores de comparación (<code>&gt; &gt;= &lt; &lt;=</code>) y <strong>igualdad estricta</strong> <code>===</code> para evitar coerción. Valida entradas con <code>Number()</code> y <code>Number.isNaN()</code> para prevenir errores.</p>
                <div class="code" data-snippet>
                    <button class="btn small ghost copy" aria-label="Copiar">📋 Copiar</button>
                    <pre><code>// Demo: mayor de edad
const edad = 19;
if (edad >= 18) {
  console.log("Acceso permitido");
}</code></pre>
                </div>
            </div>
        </div>

        <!-- 4 Práctica guiada -->
        <div class="ecard span-6">
            <div class="head">
                <div class="step" aria-hidden="true">4</div>
                <div class="title">Práctica guiada</div>
                <div class="badge">Ejercicio simple</div>
            </div>
            <div class="body">
                <p><strong>Ejercicio:</strong> Si <code>monto &gt; 100</code>, mostrar <em>"Aplica 10% descuento"</em>.</p>
                <div class="code" data-snippet>
                    <button class="btn small ghost copy" aria-label="Copiar">📋 Copiar</button>
                    <pre><code>const monto = 120;
if (monto > 100) {
  console.log("Aplica 10% descuento");
}</code></pre>
                </div>
                <p class="hint">Opcional: valida que <code>monto</code> sea un número válido antes de decidir.</p>
            </div>
        </div>

        <!-- 5 Reto individual -->
        <div class="ecard span-6">
            <div class="head">
                <div class="step" aria-hidden="true">5</div>
                <div class="title">Reto individual</div>
                <div class="badge">Exit ticket</div>
            </div>
            <div class="body">
                <p><strong>Enunciado único:</strong> Recibe o define <code>total</code>. Si <code>total &gt;= 500</code>, mostrar <em>"Envío gratis"</em>. Valida que <code>total</code> sea un número (<code>Number</code> y <code>Number.isNaN</code>).</p>
                <div class="code" data-snippet>
                    <button class="btn small ghost copy" aria-label="Copiar">📋 Copiar</button>
                    <pre><code>const totalEntrada = "520"; // simulado
const total = Number(totalEntrada);
if (!Number.isNaN(total) && total >= 500) {
  console.log("Envío gratis");
}</code></pre>
                </div>
            </div>
        </div>

        <!-- 6 Mini-quiz -->
        <div class="ecard span-6" id="quiz">
            <div class="head">
                <div class="step" aria-hidden="true">6</div>
                <div class="title">Mini-quiz</div>
                <div class="badge">Autoevaluación</div>
            </div>
            <div class="body quiz">
                <div class="qcard">
                    <q>1) Verdadero/Falso: <code>if ("0")</code> entra al bloque.</q>
                    <div>
                        <label><input type="radio" name="q1" value="true"> Verdadero</label>
                        <label><input type="radio" name="q1" value="false"> Falso</label>
                    </div>
                </div>
                <div class="qcard">
                    <q>2) ¿Qué operador evita la coerción en comparaciones?</q>
                    <div>
                        <label><input type="radio" name="q2" value="=="> == </label>
                        <label><input type="radio" name="q2" value="==="> === </label>
                    </div>
                </div>
                <div class="qcard">
                    <q>3) Completa: <code>if (edad ? 18) { ... }</code> → ¿qué símbolo va en <em>?</em> para “mayor o igual”?</q>
                    <input type="text" name="q3" placeholder="Escribe aquí (ej: &gt;=)" aria-label="Respuesta de la 3" />
                </div>
                <div class="qcard">
                    <q>4) ¿Qué está mal en <code>if (x = 5) { ... }</code>?</q>
                    <div>
                        <label><input type="radio" name="q4" value="asignacion"> Usa asignación (=) en vez de comparación</label>
                        <label><input type="radio" name="q4" value="llaves"> Faltan llaves</label>
                    </div>
                </div>
                <div class="qcard">
                    <q>5) Escribe la condición para mostrar <em>"Aprobado"</em> si <code>puntaje &gt;= 60</code> (validando que sea número).</q>
                    <input type="text" name="q5" placeholder='Ej: const p=Number(x); if(!Number.isNaN(p)&&p>=60){...}' aria-label="Respuesta de la 5"/>
                </div>
                <button id="checkQuiz" class="btn">Revisar respuestas</button>
                <p id="quizResult" class="result" role="status" aria-live="polite"></p>
            </div>
        </div>
    </section>

    <!-- EJEMPLOS (se mantienen para apoyo rápido) -->
    <section id="ejemplos" class="grid" aria-labelledby="exTitle">
        <div class="ecard span-8">
            <div class="head">
                <div class="icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M7 8l3 3-3 3M11 16h6" stroke-width="1.6"/>
                        <rect x="3" y="4" width="18" height="16" rx="2" stroke-width="1.6"/>
                    </svg>
                </div>
                <div class="title">Ejemplo rápido: igualdad estricta</div>
                <div class="badge">=== recomendado</div>
            </div>
            <div class="body">
                <div class="code" data-snippet>
                    <button class="btn small ghost copy" aria-label="Copiar">📋 Copiar</button>
                    <pre><code>console.log(5 == "5");   // true  (coerción)
console.log(5 === "5");  // false (sin coerción, preferido)</code></pre>
                </div>
            </div>
        </div>

        <div class="ecard span-4">
            <div class="head">
                <div class="icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M12 3l7 4v6a7 7 0 0 1-7 7 7 7 0 0 1-7-7V7z" stroke-width="1.6"/></svg>
                </div>
                <div class="title">Validar entrada</div>
                <div class="badge">Number & NaN</div>
            </div>
            <div class="body">
                <div class="code" data-snippet>
                    <button class="btn small ghost copy" aria-label="Copiar">📋 Copiar</button>
                    <pre><code>const entrada = "23";
const n = Number(entrada);
if (!Number.isNaN(n) && n > 20) {
  console.log("Número mayor a 20");
}</code></pre>
                </div>
            </div>
        </div>
    </section>

    <!-- MATERIAL Y ERRORES -->
    <section id="recursos" class="grid">
        <div class="ecard span-12">
            <div class="head">
                <div class="icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M4 5a3 3 0 0 1 3-3h11v18H7a3 3 0 0 0-3 3z" stroke-width="1.6"/><path d="M7 2v18" stroke-width="1.6"/></svg>
                </div>
                <div class="title">Material de apoyo</div>
                <div class="badge">Para profundizar</div>
            </div>
            <div class="body">
                <ul class="list">
                    <li>MDN · <em>if... else</em> (JavaScript) — referencia de la sentencia.</li>
                    <li>MDN · <em>Equality comparisons and sameness</em> — diferencias entre <code>==</code> y <code>===</code>.</li>
                    <li>Repite los ejemplos en la consola del navegador (F12 → Console).</li>
                </ul>
            </div>
        </div>

        <div class="ecard span-12">
            <div class="head">
                <div class="icon" aria-hidden="true">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M20 6l-11 11-5-5" stroke-width="1.6"/></svg>
                </div>
                <div class="title">Errores comunes</div>
                <div class="badge">Evítalos</div>
            </div>
            <div class="body">
                <ul class="list">
                    <li>Usar <code>=</code> (asignación) en vez de <code>===</code> (comparación estricta).</li>
                    <li>No convertir/verificar número → <code>NaN</code> y condiciones que nunca se cumplen.</li>
                    <li>Confiar en <code>==</code> (coerción implícita) y obtener resultados inesperados.</li>
                    <li>Olvidar llaves cuando el bloque crece o mezclar indentaciones.</li>
                </ul>
            </div>
        </div>
    </section>
</main>

<footer>
    Hecho con ♥ para el aprendizaje en el SENA. Usa <kbd>Tab</kbd> para navegar y <kbd>Enter</kbd> para activar.
</footer>

<script>
    // Tema claro/oscuro
    const root = document.documentElement;
    const saved = localStorage.getItem("theme");
    if(saved){ root.classList.toggle("light", saved === "light"); }
    document.getElementById("toggleTheme").addEventListener("click", ()=>{
        const toLight = !root.classList.contains("light");
        root.classList.toggle("light", toLight);
        localStorage.setItem("theme", toLight ? "light" : "dark");
    });

    // Progreso de lectura
    const progress = document.querySelector(".progress");
    const updateProgress = () => {
        const h = document.documentElement;
        const scrolled = (h.scrollTop) / (h.scrollHeight - h.clientHeight);
        progress.style.width = (scrolled*100).toFixed(2) + "%";
    };
    document.addEventListener("scroll", updateProgress, {passive:true});
    updateProgress();

    // Revelar e-cards
    const cards = document.querySelectorAll(".ecard");
    const obs = new IntersectionObserver(entries=>{
        entries.forEach(e=>{ if(e.isIntersecting){ e.target.classList.add("revealed"); } });
    },{threshold:.08});
    cards.forEach(c=>obs.observe(c));

    // Copiar código
    function copyCode(pre){
        const text = pre.innerText;
        navigator.clipboard.writeText(text).then(()=>toast("Código copiado ✓"))
            .catch(()=> alert("No se pudo copiar."));
    }
    document.querySelectorAll('[data-snippet]').forEach(box=>{
        const pre = box.querySelector("pre");
        box.querySelector(".copy").addEventListener("click", ()=>copyCode(pre));
    });

    // Mini-quiz
    const correct = { q1:"true", q2:"===", q3:">=", q4:"asignacion", q5:"custom" };
    function containsSolution(s){
        const t = s.replace(/\s+/g,'').toLowerCase();
        return t.includes('number(') && t.includes('!number.isnan(') && (t.includes('>=60') || t.includes('p>=60'));
    }
    document.getElementById("checkQuiz").addEventListener("click", ()=>{
        let score = 0;
        const q1 = document.querySelector('input[name="q1"]:checked')?.value;
        if(q1 === correct.q1) score++;
        const q2 = document.querySelector('input[name="q2"]:checked')?.value;
        if(q2 === correct.q2) score++;
        const q3 = document.querySelector('input[name="q3"]')?.value.trim();
        if(q3 === correct.q3) score++;
        const q4 = document.querySelector('input[name="q4"]:checked')?.value;
        if(q4 === correct.q4) score++;
        const q5 = document.querySelector('input[name="q5"]')?.value.trim();
        if(q5 && containsSolution(q5)) score++;

        const result = document.getElementById("quizResult");
        const emojis = ["😅","🙂","😎","🏆"];
        let msg = "";
        if(score <=2) msg = `${emojis[0]} ${score}/5 · Revisa ejemplos y vuelve a intentar.`;
        else if(score===3) msg = `${emojis[1]} ${score}/5 · ¡Vas bien!`;
        else if(score===4) msg = `${emojis[2]} ${score}/5 · Casi perfecto.`;
        else msg = `${emojis[3]} ¡Excelente! 5/5 · Dominio del if.`;
        result.textContent = msg;
        toast("Quiz revisado");
    });

    // Toast
    const toastBox = document.createElement("div");
    toastBox.style = "position:fixed;bottom:18px;left:50%;transform:translateX(-50%);z-index:80;display:grid;gap:8px;";
    document.body.appendChild(toastBox);
    function toast(msg){
        const el = document.createElement("div");
        el.textContent = msg;
        el.style.cssText = "padding:10px 14px;border-radius:999px;box-shadow:var(--shadow);background:linear-gradient(135deg,var(--brand),var(--brand-2));color:white;font-weight:700";
        toastBox.appendChild(el);
        setTimeout(()=> el.remove(), 1800);
    }
</script>
</body>
</html>
